**Web Template** is a simple entity that contains the following attributes:

- **Name** - When a template is included in other content, or extended by other templates, it is referred to by this name.
- **Source** - The source content of the template. It can be static text, an HTML fragment, or most often, a layout by using Liquid.
- **MIME type** - Defines what MIME type that the server will send to the client when the template is rendered. If value is not provided, the value is assumed to be `text/html`, which is a standard type for HTML pages. It's possible to create a web template that will render specialized content. For example, you can create a web template that will return some Common Data Service data in `json` format. In this case, the MIME type would be set to `application/json`. 

## Web template management

Liquid implementations within Power Apps portals contain a number of [Template tags](https://docs.microsoft.com/powerapps/maker/portals/liquid/template-tags/?azure-portal=true) that help manage templates and promote reusability.

### FetchXML tag

The `fetchxml` tag allows users to query data from Common Data Service and renders the results in a page.

```xml
{% fetchxml varResults %}
<!— Fetchxml query -->
<fetch>
  <entity name="account">
    <attribute name="name" />
  </entity>
</fetch>
{% endfetchxml %}
```

The `varResults` variable will contain the results of the query.

```xml
{% for account in varResults.results.entities %} 
  {{ account.name }}<br />
{% endfor %}
```

> [!IMPORTANT]
> Entity permissions are always applied to the `fetchxml` tag.

### Comment tag

With the `comment` tag, any content within the block will not be rendered, and any Liquid code within will not be run. This tag is useful for including extended comments in complex templates and to temporarily comment out blocks of code when you are troubleshooting.

```xml
This is a {% comment %}very useful {% endcomment %}comment.
```

The preceding logic will generate the following result: 

> This is a comment.

### Raw tag

The `raw` tag allows the output of Liquid code on a page without having it parsed and run. This tag is useful for generating content that uses conflicting client-side syntax, such as Handlebars.

```xml
Hello, {% raw %}{{ user.fullname }}.{% endraw %} Nice to meet you.
```

The preceding logic will generate the following result: 

> Hello, {{ user.fullname }}. Nice to meet you.

Notice how `user.fullname` is rendered explicitly instead of being processed as a Liquid instruction and converted into the actual name of the user.

### Include tag

The `include` tag includes the contents of one template in another, by name. This tag allows for the reuse of common template fragments in multiple places, for example, rendering of social links. The included template will have access to any variables that are defined in the parent template, and it is possible to pass parameters.

```xml
{% include 'Breadcrumbs', separator: '>' %}
```

This logic will include the output that is generated by the **Breadcrumbs** template that will have a `separator` variable set to the `>` symbol.

### Block tag

By using the `block` tag, you can define a block within a template, which defines a region that can be optionally overwritten by the templates that extend the current template.

### Extend tag

When used in conjunction with the `block` tag, the `extend` tag provides template inheritance. This tag allows multiple templates to use a shared layout while overriding specific areas of the parent layout. When `extends` is used, it must be the first content in the template and can only be followed by one or more block tags.

#### Base template

The base template logic is as follows:

```xml
<div>
Hello
{% block content %}default content{% endblock %}
</div>
```

#### Child template

The child template logic is as follows:

```xml
{% extends 'Base Template' %}
{% block content %}Power Apps portals{% endblock%}
```

The child template will generate the following output:

```html
<div>
  Hello
  Power Apps portals
</div>
```

The typical use of the `extend` and `block` tags is to separate layout and content templates. Parent or base templates usually define broad page layout, for example, if it's a single column or a two-column page. Child templates that extend the base can only define the content of the blocks as specified by the parent.

For a comprehensive Liquid code sample that demonstrates template inheritance with `block/extend` and `include` tags, see [Create a custom page template](https://docs.microsoft.com/powerapps/maker/portals/liquid/create-custom-template).

## Web templates best practices

The following steps will help you improve template structure and make the web templates more manageable: 

- Choose descriptive names for your templates because they will be referenced or included as part of other templates.

- Break down the page layout and separate layout from content. These layouts will be candidates for extendable templates.

- Look out for repeatable and reusable fragments; these fragments can be defined as sub templates and will use the `include` tag.

- Use the `include` tag to help reuse layout and commonly used JavaScript fragments. Make your JavaScript templates "smart" by using parameters that are available in the `include` tag. These fragments will be inserted inline.

- Move larger, reusable blocks of JavaScript to separate files and insert them as a reference instead. The client's browser will load them separately and they can be cached. In addition, externally loaded scripts can be minified, which will result in better performance. 

- Find parts of the page that need to be translated for multilingual implementation. These pages need to be defined as either page content or content snippets.

- Identify editable fragments. Determine which parts of the webpage where you want users to be responsible for content management and maintenance.

- Be generous with the layout when you are writing a template, but avoid excessive blank lines by using hyphens in your tags, for example: 

  ```xml
  {%- if username -%}
    Hello, {{ user.firstname}}
  {%- endif -%}
  ```

- Use the `comments` tag to describe complex parts of the template.

- Study templates that are already deployed with the starter portal and look for Liquid techniques in [Create advanced templates for portals](https://docs.microsoft.com/powerapps/maker/portals/liquid/create-custom-template/?azure-portal-true).

Numerous ready-to-use Liquid templates are installed when you provision a starter portal: [Built-in web templates](https://docs.microsoft.com/powerapps/maker/portals/liquid/store-content-web-templates#built-in-web-templates/?azure-portal-true). Their names are fixed, and the templates are not available for editing.

For more information, see [Work with Liquid templates](https://docs.microsoft.com/powerapps/maker/portals/liquid/liquid-overview/?azure-portal-true).


